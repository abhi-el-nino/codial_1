var addComment=function(e){let t=$(`#post-${e}-comment-form`);t.submit((function(e){e.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:t.serialize(),success:function(e){let t=newCommentDom(e.data.comment);$(`#post-comments-${e.data.comment.post}`).prepend(t),Deletecomment($(" .delete-comment-button",t))},error:function(e){console.log(e.responseText)}})}))},Deletecomment=e=>{$(e).click(t=>{t.preventDefault(),$.ajax({type:"get",url:e.prop("href"),success:function(e){$(`#comment-${e.data.comment._id}`).remove()},error:function(e){console.log(e.responseText)}})})};let makeCommentsAJAX=function(e){$(`#post-comments-${e}>li`).each((function(){let e=$(this);Deletecomment($(" .delete-comment-button",e))}))},newCommentDom=function(e){return $(`<li id="comment-${e._id}">\n \n  <small>\n    <a class="delete-comment-button" href="/comments/destroy/${e._id}">&times;\n    </a>\n  </small>\n\n  \n\n  ${e.content}\n  <br>\n  <small>\n    ${e.user.name}\n  </small>\n\n</li>`)};